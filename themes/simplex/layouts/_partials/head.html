<meta charset="utf-8">
<meta name="viewport" content="width=device-width">

{{ $title := "" }}
{{ if .IsHome }}
  {{ $title = site.Title }}
{{ else }}
  {{ $title = printf "%s | %s" .Title site.Title }}
{{ end }}
<title>{{ $title }}</title>

{{ if and (eq .Type "posts") (eq .Kind "page") }}
  <meta property="og:title" content="{{ .Title }}" />
  <meta name="twitter:title" content="{{ .Title }}" />

  {{ $summary := .Summary | plainify | strings.TrimSpace }}
  <meta property="og:description" content="{{ $summary }}" />
  <meta name="description" content="{{ $summary }}" />
  <meta name="twitter:description" content="{{ $summary }}" />

  <meta property="og:url" content="{{ .Permalink }}" />
  <link rel="canonical" href="{{ .Permalink }}" />

  {{ with .Resources.GetMatch .Params.embedimage }}
    {{ $ogresized := .Fit "1200x630" }}
    <meta property="og:image" content="{{ $ogresized.Permalink }}" />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="630" />

    {{ $twresized := .Fit "1200x675" }}
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:image" content="{{ $twresized.Permalink }}" />
  {{ end }}
{{ end }}

{{ partialCached "head/css.html" . }}
{{ partialCached "head/js.html" . }}
